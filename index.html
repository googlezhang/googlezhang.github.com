<!DOCTYPE html>
<html lang="zh-CN" class="no-js">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>晴天弄云 | 在这个喧嚣的世界里独自翩翩起舞~~~。</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://www.zhanghl.com/xmlrpc.php" />


<link rel="alternate" type="application/rss+xml" title="晴天弄云 &raquo; Feed" href="http://www.zhanghl.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="晴天弄云 &raquo; 评论 Feed" href="http://www.zhanghl.com/comments/feed/" />
<link rel='stylesheet' id='livingjournal_style-css'  href='http://www.zhanghl.com/wordpress/wp-content/themes/living-journal/style.css?ver=3.5.1' type='text/css' media='all' />
<script type='text/javascript' src='http://www.zhanghl.com/wordpress/wp-content/themes/living-journal/library/js/modernizr-2.6.1.min.js?ver=2.6.1'></script>
<script type='text/javascript' src='http://www.zhanghl.com/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.zhanghl.com/wordpress/wp-content/themes/living-journal/library/js/scripts.js?ver=1.0.0'></script>
<meta name="generator" content="WordPress 3.5.1 - really-static 0.5" />
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url('http://www.zhanghl.com/wordpress/wp-content/themes/living-journal/library/images/bg.png'); background-repeat: repeat; background-position: top left; background-attachment: scroll; }
</style>
</head>

<body class="home blog custom-background single-author">
<div id="container">
	<header id="branding" role="banner">
      <div id="inner-header" class="clearfix">
		<hgroup id="site-heading">
			<h1 id="site-title"><a href="http://www.zhanghl.com/" title="晴天弄云" rel="home">晴天弄云</a></h1>
			<h2 id="site-description">在这个喧嚣的世界里独自翩翩起舞~~~。</h2>
		</hgroup>

		<nav id="access" role="navigation">
			<h1 class="assistive-text section-heading">Main menu</h1>
			<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
			<div class="menu"><ul><li class="current_page_item"><a href="http://www.zhanghl.com/" title="首页">首页</a></li><li class="page_item page-item-2"><a href="http://www.zhanghl.com/sample-page/">示例页面</a></li></ul></div>
			<form role="search" method="get" id="searchform" action="http://www.zhanghl.com/" >
	<div><label class="screen-reader-text" for="s">搜索：</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="搜索" />
	</div>
	</form>		</nav><!-- #access -->
        

      </div>

      
	</header><!-- #branding -->

    <div id="content" class="clearfix">
        
        <div id="main" class="col620 clearfix" role="main">

			
								
					
<article id="post-10" class="post-10 post type-post status-publish format-standard hentry category-java">
	
	<header class="entry-header">
		<h1 class="entry-title"><a href="http://www.zhanghl.com/2013/01/27/10/" title="Permalink to java创建对象的四种方法" rel="bookmark">java创建对象的四种方法</a></h1>

				<div class="entry-meta">
			<span class="sep">Posted on </span><a href="http://www.zhanghl.com/2013/01/27/10/" title="上午 1:59" rel="bookmark"><time class="entry-date" datetime="2013-01-27T01:59:45+00:00">2013 年 1 月 27 日</time></a><span class="byline"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://www.zhanghl.com/author/admin//index.html" title="View all posts by admin" rel="author">admin</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->
    
    
		<div class="entry-content post_content">
		<p>(1) 用new语句创建对象，这是最常见的创建对象的方法。<br />
(2) 运用反射手段,调用java.lang.Class或者java.lang.reflect.Constructor类的newInstance()实例方法。<br />
(3) 调用对象的clone()方法。<br />
(4) 运用反序列化手段，调用java.io.ObjectInputStream对象的 readObject()方法。</p>
<p><strong>一.用new语句创建对象</strong></p>
<p><code>User user = new User();</code></p>
<p><strong>二.运用反射手段</strong></p>
<p>(1)调用java.lang.Class.newInstance()<br />
<code><br />
Class.forName(classname).newInstance();</code></p>
<p>Wife wife = (Wife) Class.forName(&#8220;com.java.clone.Wife&#8221;).newInstance();</p>
<p>(2)调用java.lang.reflect.Constructor类的newInstance()<br />
<code><br />
Constructor&lt;Wife&gt; constructor = Wife.class.getDeclaredConstructor(int.class,String.class);</code></p>
<p>Wife wife = (Wife) constructor.newInstance(1,&#8221;nihao&#8221;);</p>
<p><strong>三.调用对象的clone()方法</strong></p>
<p>详情参考：<a href="http://ncs123.iteye.com/blog/1775631" target="_blank">http://ncs123.iteye.com/blog/1775631</a><br />
<code><br />
Wife wife = new Wife(1,"wang");</code></p>
<p>Wife wife2 = null;</p>
<p>wife2 = (Wife) wife.clone();//运用clone()方法产生新对象</p>
<p><strong>四.运用反序列化手段</strong><br />
被序列化的对象必须implements Serializable<br />
<code><br />
public class BeanUtil {</code></p>
<p>@SuppressWarnings(&#8220;unchecked&#8221;)<br />
public static &lt;T&gt; T cloneTo(T src) throws RuntimeException {<br />
ByteArrayOutputStream memoryBuffer = new ByteArrayOutputStream();<br />
ObjectOutputStream out = null;<br />
ObjectInputStream in = null;<br />
T dist = null;</p>
<p>try {<br />
out = new ObjectOutputStream(memoryBuffer);<br />
out.writeObject(src);<br />
out.flush();<br />
in = new ObjectInputStream(new ByteArrayInputStream(<br />
memoryBuffer.toByteArray()));<br />
dist = (T) in.readObject();</p>
<p>} catch (Exception e) {<br />
throw new RuntimeException(e);<br />
} finally {<br />
if (out != null)<br />
try {<br />
out.close();<br />
out = null;<br />
} catch (IOException e) {<br />
throw new RuntimeException(e);<br />
}<br />
if (in != null)<br />
try {<br />
in.close();<br />
in = null;<br />
} catch (IOException e) {<br />
throw new RuntimeException(e);<br />
}<br />
}</p>
<p>return dist;<br />
}</p>
<p>public static void main(String[] args){<br />
Husband husband = new Husband(1);<br />
Wife wife = new Wife(1,&#8221;jin&#8221;);<br />
husband.setWife(wife);<br />
Husband husband2 = cloneTo(husband);//运用反序列生成了一个对象<br />
}<br />
}<br />
</code></p>
			</div><!-- .entry-content -->
	
	<footer class="entry-meta">
					
					
		
			</footer><!-- #entry-meta -->
</article><!-- #post-10 -->

				
				
			
        </div> <!-- end #main -->

        		<div id="sidebar" class="widget-area col300" role="complementary">
						<aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" action="http://www.zhanghl.com/" >
	<div><label class="screen-reader-text" for="s">搜索：</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="搜索" />
	</div>
	</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">近期文章</h2>		<ul>
					<li>
				<a href="http://www.zhanghl.com/2013/01/27/10/" title="java创建对象的四种方法">java创建对象的四种方法</a>
						</li>
				</ul>
		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">近期评论</h2><ul id="recentcomments"></ul></aside><aside id="archives-2" class="widget widget_archive"><h2 class="widget-title">文章归档</h2>		<ul>
			<li><a href='http://www.zhanghl.com/2013/01/' title='2013 年一月'>2013 年一月</a></li>
		</ul>
</aside><aside id="categories-2" class="widget widget_categories"><h2 class="widget-title">分类目录</h2>		<ul>
	<li class="cat-item cat-item-2"><a href="http://www.zhanghl.com/category/java//index.html" title="java相关文章">Java</a>
</li>
		</ul>
</aside><aside id="meta-2" class="widget widget_meta"><h2 class="widget-title">功能</h2>			<ul>
						<li><a href="http://www.zhanghl.com/wp-login.php">登录</a></li>
			<li><a href="http://www.zhanghl.com/feed/" title="使用 RSS 2.0 订阅本站点内容">文章 <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://www.zhanghl.com/comments/feed/" title="使用 RSS 订阅本站点的所有文章的近期评论">评论 <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://cn.wordpress.org/" title="基于 WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>
						</ul>
</aside>		</div><!-- #secondary .widget-area -->

    </div> <!-- end #content -->
        

	<footer id="colophon" role="contentinfo">
       <div class="footer-wrap">
		<div id="site-generator">
			&copy; 晴天弄云                        - Powered by <a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Wordpress</a>
			 and <a href="http://citizenjournal.net/">Citizen Journal</a>
             
		</div>
      </div>
	</footer><!-- #colophon -->
</div><!-- #page -->


</body>
</html>